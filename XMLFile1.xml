
/*
*  @author : Srikrishna Gumma
*  NameSpace : TSM
*/

var TSM = TSM || {};

TSM  = (function ( $ ) {

"use strict";
var modalOverlay = '#modalOveray'
, modalTarget;
function enableTouchGuestures ( event ){

}
function initModalOverlay( event ){

$('*[data-role]').on('click', function (argument) {
var $role = $(this).data('role')
, callBack = new Function($(this).data('callback'));


modalTarget = $(this).data('target');


if($role === 'modal'){
$(modalOverlay)
.fadeIn(400, function ( ) {
$(modalTarget)
.fadeIn('fast');

});
callBack(modalTarget);
}else if($role === 'dismiss'){
$(modalTarget)
.fadeOut(400, function ( ) {
$(modalOverlay)
.fadeOut('fast');
});
}

});
$('*[data-url]').on('click', function ( event ) {
var $this = $(this)
, URI = $this.data('url');

window.location.href= URI;
});

}



return{
init: function(){

/* Act on the event */
initModalOverlay();
enableTouchGuestures();
//initPreloader('show');
},
initPreloader: function( obj ){
var $preloader = $('#preloader')
, $backDrop = $(modalOverlay);
if(obj === "show"){

$backDrop.show();
$preloader.show();

}else if(obj === "hide"){
if(!$('.modal').is(':visible')){
$backDrop.hide();
}

$preloader.hide();
}
}
};

// Pull in jQuery and Underscore
})( jQuery);

TSM.init();